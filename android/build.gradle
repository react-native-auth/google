buildscript {
  repositories {
    google()
    mavenCentral()
  }
  dependencies {
    classpath "com.diffplug.spotless:spotless-plugin-gradle:8.2.1"
  }
}

apply plugin: "com.android.library"
apply plugin: "org.jetbrains.kotlin.android"
apply plugin: "com.facebook.react"
apply plugin: "com.diffplug.spotless"

android {
  namespace "io.github.reactnativeauth.google"
  
  compileSdkVersion 34

  defaultConfig {
    minSdkVersion 24
    targetSdkVersion 34
    consumerProguardFiles "consumer-rules.pro"
  }

  compileOptions {
    sourceCompatibility JavaVersion.VERSION_17
    targetCompatibility JavaVersion.VERSION_17
  }

  kotlinOptions {
    jvmTarget = "17"
  }

  sourceSets {
    main {
      java.srcDirs += [
        "build/generated/source/codegen/java"
      ]
    }
  }

  buildFeatures {
    buildConfig false
  }
}

spotless {
  kotlin {
    target "src/**/*.kt"
    ktlint("1.2.1")
    indentWithSpaces()
    trimTrailingWhitespace()
    endWithNewline()
  }
  format("gradle") {
    target "**/*.gradle"
    indentWithSpaces()
    trimTrailingWhitespace()
    endWithNewline()
  }
}

repositories {
  google()
  mavenCentral()
}

dependencies {
  implementation "com.facebook.react:react-android"
  implementation "com.google.android.gms:play-services-auth:21.5.1"
  implementation "androidx.credentials:credentials:1.5.0"
  implementation "androidx.credentials:credentials-play-services-auth:1.5.0"
  implementation "com.google.android.libraries.identity.googleid:googleid:1.2.0"
}